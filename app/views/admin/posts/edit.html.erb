<div class="container">
  <div class="row">
    <div class="col">
      <h2 class="px-4 my-4" style="background-color: #FFDBC9;">投稿編集</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <%= form_with model: @post, url: admin_post_path(@post), method: :patch, local: true do |f| %>
        <div class="form-group mb-3">
          <%= f.label :post_image, "現在の投稿画像", class: "form-label" %><br>
          <% if @post.post_image.attached? %>
            <%= image_tag @post.post_image, size: "100x100", class: "current-image mb-3 img-thumbnail" %>
          <% else %>
            <p>画像がありません</p>
          <% end %>
          <%= f.label :post_image, "新しい投稿画像", class: "form-label" %>
          <%= f.file_field :post_image, accept: "image/*", class: "form-control-file" %>
        </div>

        <div class="form-group mb-3">
          <%= f.label :title, "タイトル", class: "form-label" %>
          <%= f.text_field :title, class: "form-control" %>
        </div>
        
        <div class="form-group mb-3">
          <%= f.label :body, "本文", class: "form-label" %>
          <%= f.text_area :body, class: "form-control" %>
        </div>
        
        <div class="form-group mb-3">
          <%= f.label :tag_list, "タグ", class: "form-label" %>
          <%= f.text_field :tag_list, value: @post.tags.map(&:name).join(", "), class: "form-control" %>
        </div>
        
        <div class="form-group mb-3">
          <%= f.label :status, "ステータス", class: "form-label" %><br>
          <div class="form-check form-check-inline">
            <%= f.radio_button :status, "active", class: "form-check-input" %>
            <%= f.label :status_active, "有効", class: "form-check-label" %>
          </div>
          <div class="form-check form-check-inline">
            <%= f.radio_button :status, "inactive", class: "form-check-input" %>
            <%= f.label :status_inactive, "無効", class: "form-check-label" %>
          </div>
        </div>
        
        <div class="form-group mb-3">
          <%= f.submit "変更を保存", class: "btn btn-success" %>
          <%= link_to "Destroy", admin_post_path(@post.id), method: :delete, class: 'btn btn-danger ms-2', "data-confirm" => "Are you sure?" %>
        </div>
        
        <div class="form-group mb-3">
          <%= link_to "Back", admin_post_path(@post) %>
          <%= link_to "Top", admin_root_path(@post) %>
        </div>
      <% end %>
    </div>
  </div>
</div>